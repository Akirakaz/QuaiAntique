{%- block vich_file_row -%}
    {%- set force_error = true -%}
    {{- block('form_row') -}}
{%- endblock -%}

{%- block vich_file_widget -%}
    <div class="vich-file">
        {%- if errors|length > 0 -%}
            {%- set attr = attr|merge({class: (attr.class|default('') ~ ' is-invalid')|trim}) -%}
        {%- endif -%}
        {{- form_widget(form.file, {attr: attr}) -}}
        {%- if form.delete is defined -%}
            {{- form_label(form.delete,{'attr': {'class': 'text-red-700'}}) -}}
            {{- form_row(form.delete,{'attr': {'class': 'text-red-700'}}) -}}
        {%- endif -%}

        {%- if download_uri -%}
            <a href="{{ asset_helper is same as(true) ? asset(download_uri) : download_uri }}" download>
                {{ translation_domain is same as(false) ? download_label : download_label|trans({}, translation_domain) }}
            </a>
        {%- endif -%}
    </div>
{%- endblock -%}

{%- block vich_image_row -%}
    {%- set force_error = true -%}
    {{- block('form_row') -}}
{%- endblock -%}

{%- block vich_image_widget -%}
    <div class="vich-image">
        {%- if errors|length > 0 -%}
            {%- set attr = attr|merge({class: (attr.class|default('') ~ ' is-invalid')|trim}) -%}
        {%- endif -%}
        {{- form_widget(form.file, {attr: attr}) -}}

        {%- if image_uri -%}
            <div class="mt-4">
                <img class="rounded" src="{{ asset_helper is same as(true) ? asset(image_uri) : image_uri }}" alt="" />
            </div>
        {%- endif -%}

        <div class="flex mt-4 gap-4">
            {%- if download_uri -%}
                <a class="rounded px-4 py-1 bg-slate-200 hover:bg-slate-300" href="{{ asset_helper is same as(true) ? asset(download_uri) : download_uri }}" download>
                    {{ translation_domain is same as(false) ? download_label : download_label|trans({}, translation_domain) }}
                </a>
            {%- endif -%}

            {%- if form.delete is defined -%}
                <label class="rounded px-4 py-1 bg-slate-200 hover:bg-slate-300 text-red-500">
                    {{- form_widget(form.delete,{'attr': {'class': 'text-red-500'}}) -}}
                    <span class="ml-2">Supprimer l'image du post</span>
                </label>
            {%- endif -%}
        </div>
    </div>
{%- endblock -%}